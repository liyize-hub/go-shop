{
  "type": "page",
  "title": "秒杀活动管理",
  "body": [
    {
      "type": "crud",
      "api": {
        "url": "/activity/select",
        "method": "POST",
        "dataType": "form"
      },
      "filter": {
        "title": "条件搜索",
        "body": [
          {
            "type": "select",
            "name": "shop_id",
            "label": "商铺名",
            "options": [
              {
                "label": "家和超市",
                "value": "2"
              },
              {
                "label": "信誉楼",
                "value": "3"
              },
              {
                "label": "欢欢菜店",
                "value": "4"
              },
              {
                "label": "维品服饰",
                "value": "5"
              },
              {
                "label": "海丰电子",
                "value": "6"
              },
              {
                "label": "晨光书店",
                "value": "7"
              }
            ]
          },
          {
            "type": "input-text",
            "name": "id",
            "label": "秒杀活动ID"
          },
          {
            "type": "input-text",
            "name": "name",
            "label": "秒杀商品名称"
          },
          {
            "type": "radios",
            "name": "flag",
            "options": [
              {
                "label": "未激活",
                "value": 0
              },
              {
                "label": "已删除",
                "value": 1
              },
              {
                "label": "秒杀活动中",
                "value": 2
              }
            ],
            "submitOnChange": true,
            "value": 0
          }
        ],
        "autoFocus": false
      },
      "columns": [
        {
          "name": "id",
          "label": "秒杀活动ID",
          "type": "text"
        },
        {
          "name": "name",
          "label": "秒杀商品名称",
          "type": "text"
        },
        {
          "name": "img",
          "label": "秒杀商品图片",
          "type": "image"
        },
        {
          "type": "text",
          "label": "秒杀商品数量",
          "name": "product_num"
        },
        {
          "type": "text",
          "label": "秒杀优惠价格",
          "name": "product_price"
        },
        {
          "type": "text",
          "label": "秒杀商品原价",
          "name": "price"
        },
        {
          "type": "text",
          "label": "秒杀活动持续时间",
          "name": "last"
        },
        {
          "type": "operation",
          "label": "操作",
          "buttons": [
            {
              "label": "修改",
              "type": "button",
              "actionType": "dialog",
              "level": "link",
              "dialog": {
                "title": "秒杀活动",
                "body": [
                  {
                    "type": "form",
                    "api": {
                      "url": "/activity/update",
                      "method": "POST",
                      "dataType": "form"
                    },
                    "rules": [
                      {
                        "rule": "${product_num != 0}",
                        "message": "商品的数量不能为0",
                        "name": [
                          "product_num"
                        ]
                      },
                      {
                        "rule": "${product_num != 0}",
                        "message": "商品的价格不能为0",
                        "name": [
                          "product_price"
                        ]
                      },
                      {
                        "rule": "${last != 0}",
                        "message": "持续时间不能为0",
                        "name": [
                          "last"
                        ]
                      }
                    ],
                    "body": [
                      {
                        "type": "static",
                        "label": "商品ID",
                        "name": "product_id"
                      },
                      {
                        "type": "static",
                        "label": "商品名称",
                        "name": "name"
                      },
                      {
                        "type": "input-text",
                        "label": "秒杀商品数量",
                        "name": "product_num",
                        "required": true,
                        "hint": "大于0"
                      },
                      {
                        "label": "秒杀优惠价格",
                        "type": "input-text",
                        "name": "product_price",
                        "required": true,
                        "hint": "大于0"
                      },
                      {
                        "label": "秒杀活动持续时间",
                        "type": "input-text",
                        "name": "last",
                        "required": true,
                        "hint": "单位为小时,必须为整数,大于0"
                      }
                    ]
                  }
                ],
                "type": "dialog"
              },
              "visibleOn": "${flag==0}"
            },
            {
              "type": "button",
              "label": "删除",
              "actionType": "ajax",
              "level": "link",
              "className": "text-danger",
              "confirmText": "确定要删除？",
              "api": {
                "url": "/activity/delete?id=${id}",
                "method": "GET"
              },
              "visibleOn": "${flag==0}"
            }
          ]
        }
      ],
      "headerToolbar": [
        "switch-per-page"
      ],
      "perPageAvailable": [
        10,
        20,
        50
      ],
      "mode": "table",
      "footerToolbar": [
        "statistics",
        "pagination"
      ]
    }
  ]
}